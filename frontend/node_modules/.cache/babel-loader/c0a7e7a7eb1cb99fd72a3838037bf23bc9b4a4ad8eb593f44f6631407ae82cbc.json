{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reddy\\\\Desktop\\\\HostelFoodManagem\\\\HostelFoodManagementWeb\\\\frontend\\\\src\\\\resident\\\\MealSelection\\\\MealSelection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./MealSelection.css\";\nimport menuData from \"./menuData\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MealSelectionPage() {\n  _s();\n  const [selectedDay, setSelectedDay] = useState(\"\");\n  const [availableDays, setAvailableDays] = useState([]);\n  const [mealSelections, setMealSelections] = useState({});\n  const [fadeClass, setFadeClass] = useState(\"fade-in\");\n  const [isBooked, setIsBooked] = useState(false);\n  const [bookingMessage, setBookingMessage] = useState(\"\");\n  useEffect(() => {\n    const today = new Date();\n    const daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    const currentDayIndex = today.getDay();\n\n    // Reset on Sunday\n    if (currentDayIndex === 0) {\n      setMealSelections({});\n      localStorage.removeItem(\"mealSelections\");\n    }\n\n    // Get available days for booking (current day + next 3 days)\n    const upcomingDays = [];\n    for (let i = 0; i < 4; i++) {\n      const futureDay = new Date(today);\n      futureDay.setDate(today.getDate() + i);\n      upcomingDays.push(daysOfWeek[futureDay.getDay()]);\n    }\n    setAvailableDays(upcomingDays);\n    setSelectedDay(upcomingDays[0]); // Set the first available day as the initial selection\n\n    // Load stored selections if available\n    const storedSelections = localStorage.getItem(\"mealSelections\");\n    if (storedSelections) {\n      setMealSelections(JSON.parse(storedSelections));\n    }\n  }, []);\n  const handleMealSelection = async message => {\n    const userId = localStorage.getItem(\"userId\");\n    const residentName = localStorage.getItem(\"residentName\");\n    if (!userId) {\n      console.error(\"User ID not found. Ensure the user is logged in.\");\n      return;\n    }\n\n    // Confirmation dialog\n    const confirmSelection = window.confirm(`Are you sure you want to ${message === \"Yes I will Eat\" ? \"book\" : \"skip\"} meals for ${selectedDay}?`);\n    if (confirmSelection) {\n      const selectedMeals = {\n        residentName,\n        userId,\n        bookedDate: new Date().toISOString(),\n        bookedDay: selectedDay,\n        selection: message,\n        breakfastDish: menuData[selectedDay].breakfast.name,\n        lunchDish: menuData[selectedDay].lunch.name,\n        dinnerDish: menuData[selectedDay].dinner.name\n      };\n\n      // Save the meal selection in localStorage or send to your backend API\n      localStorage.setItem(\"mealSelections\", JSON.stringify(selectedMeals));\n\n      // Log the selection for confirmation\n      console.log(\"Meal selection saved:\", selectedMeals);\n\n      // Update state\n      setIsBooked(true);\n      setBookingMessage(`You have successfully ${message === \"Yes I will Eat\" ? \"booked\" : \"skipped\"} meals for ${selectedDay}.`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"MealPagecontainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Meal Selection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"weekbtns\",\n      children: availableDays.map(day => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedDay(day),\n        disabled: day === \"Sunday\" && new Date().getDay() === 0 // Disable Sunday button if it's Sunday\n        ,\n        children: day\n      }, day, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Selected Day: \", selectedDay]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `meal-selection-buttons ${isBooked ? \"disabled\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMealSelection(\"Yes I will Eat\"),\n        disabled: isBooked,\n        children: \"Yes, I will eat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMealSelection(\"No food selected\"),\n        disabled: isBooked,\n        children: \"Skip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), isBooked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-message\",\n      children: bookingMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(MealSelectionPage, \"IWtqAqFXyAZJkIeFe8BHFWcG7eU=\");\n_c = MealSelectionPage;\nexport default MealSelectionPage;\nvar _c;\n$RefreshReg$(_c, \"MealSelectionPage\");","map":{"version":3,"names":["React","useState","useEffect","menuData","Link","jsxDEV","_jsxDEV","MealSelectionPage","_s","selectedDay","setSelectedDay","availableDays","setAvailableDays","mealSelections","setMealSelections","fadeClass","setFadeClass","isBooked","setIsBooked","bookingMessage","setBookingMessage","today","Date","daysOfWeek","currentDayIndex","getDay","localStorage","removeItem","upcomingDays","i","futureDay","setDate","getDate","push","storedSelections","getItem","JSON","parse","handleMealSelection","message","userId","residentName","console","error","confirmSelection","window","confirm","selectedMeals","bookedDate","toISOString","bookedDay","selection","breakfastDish","breakfast","name","lunchDish","lunch","dinnerDish","dinner","setItem","stringify","log","id","children","fileName","_jsxFileName","lineNumber","columnNumber","map","day","onClick","disabled","className","_c","$RefreshReg$"],"sources":["C:/Users/reddy/Desktop/HostelFoodManagem/HostelFoodManagementWeb/frontend/src/resident/MealSelection/MealSelection.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./MealSelection.css\";\r\nimport menuData from \"./menuData\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction MealSelectionPage() {\r\n  const [selectedDay, setSelectedDay] = useState(\"\");\r\n  const [availableDays, setAvailableDays] = useState([]);\r\n  const [mealSelections, setMealSelections] = useState({});\r\n  const [fadeClass, setFadeClass] = useState(\"fade-in\");\r\n  const [isBooked, setIsBooked] = useState(false);\r\n  const [bookingMessage, setBookingMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const today = new Date();\r\n    const daysOfWeek = [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ];\r\n\r\n    const currentDayIndex = today.getDay();\r\n\r\n    // Reset on Sunday\r\n    if (currentDayIndex === 0) {\r\n      setMealSelections({});\r\n      localStorage.removeItem(\"mealSelections\");\r\n    }\r\n\r\n    // Get available days for booking (current day + next 3 days)\r\n    const upcomingDays = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      const futureDay = new Date(today);\r\n      futureDay.setDate(today.getDate() + i);\r\n      upcomingDays.push(daysOfWeek[futureDay.getDay()]);\r\n    }\r\n\r\n    setAvailableDays(upcomingDays);\r\n    setSelectedDay(upcomingDays[0]); // Set the first available day as the initial selection\r\n\r\n    // Load stored selections if available\r\n    const storedSelections = localStorage.getItem(\"mealSelections\");\r\n    if (storedSelections) {\r\n      setMealSelections(JSON.parse(storedSelections));\r\n    }\r\n  }, []);\r\n\r\n  const handleMealSelection = async (message) => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n    const residentName = localStorage.getItem(\"residentName\");\r\n\r\n    if (!userId) {\r\n      console.error(\"User ID not found. Ensure the user is logged in.\");\r\n      return;\r\n    }\r\n\r\n    // Confirmation dialog\r\n    const confirmSelection = window.confirm(\r\n      `Are you sure you want to ${\r\n        message === \"Yes I will Eat\" ? \"book\" : \"skip\"\r\n      } meals for ${selectedDay}?`\r\n    );\r\n\r\n    if (confirmSelection) {\r\n      const selectedMeals = {\r\n        residentName,\r\n        userId,\r\n        bookedDate: new Date().toISOString(),\r\n        bookedDay: selectedDay,\r\n        selection: message,\r\n        breakfastDish: menuData[selectedDay].breakfast.name,\r\n        lunchDish: menuData[selectedDay].lunch.name,\r\n        dinnerDish: menuData[selectedDay].dinner.name,\r\n      };\r\n\r\n      // Save the meal selection in localStorage or send to your backend API\r\n      localStorage.setItem(\"mealSelections\", JSON.stringify(selectedMeals));\r\n\r\n      // Log the selection for confirmation\r\n      console.log(\"Meal selection saved:\", selectedMeals);\r\n\r\n      // Update state\r\n      setIsBooked(true);\r\n      setBookingMessage(\r\n        `You have successfully ${\r\n          message === \"Yes I will Eat\" ? \"booked\" : \"skipped\"\r\n        } meals for ${selectedDay}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"MealPagecontainer\">\r\n      <h1>Meal Selection</h1>\r\n      <div id=\"weekbtns\">\r\n        {availableDays.map((day) => (\r\n          <button\r\n            key={day}\r\n            onClick={() => setSelectedDay(day)}\r\n            disabled={day === \"Sunday\" && new Date().getDay() === 0} // Disable Sunday button if it's Sunday\r\n          >\r\n            {day}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <h2>Selected Day: {selectedDay}</h2>\r\n      <div className={`meal-selection-buttons ${isBooked ? \"disabled\" : \"\"}`}>\r\n        <button\r\n          onClick={() => handleMealSelection(\"Yes I will Eat\")}\r\n          disabled={isBooked}\r\n        >\r\n          Yes, I will eat\r\n        </button>\r\n        <button\r\n          onClick={() => handleMealSelection(\"No food selected\")}\r\n          disabled={isBooked}\r\n        >\r\n          Skip\r\n        </button>\r\n      </div>\r\n      {isBooked && <div className=\"booking-message\">{bookingMessage}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MealSelectionPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}